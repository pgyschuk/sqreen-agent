# Sqreen-Monitoring
Java Agent for transformation of TomCat HttpRequest

This agent adding custom header for every HttpResponse generated by TomCat

### How to Run
 - Open project root folder in console
 - Run command `./docker/rundocker.sh`
 
### How to verify that agent works
 - Execute command `curl -i http://localhost:8080`
 - Result should contain custom header `X-Instrumented-By: Sqreen`
 ```HTTP/1.1 404 
    X-Instrumented-By: Sqreen
    Content-Type: text/html;charset=utf-8
    Content-Language: en
    Content-Length: 713
    Date: Thu, 09 Jan 2020 22:39:49 GMT
```

### How to integrate library with TomCat
 - Build project with Maven: `mvn clean package`
 - Copy `docker/agent-jar-with-dependencies.jar` to Tomcat folder
 - Add configuration to CATALINA_OPTS:  `CATALINA_OPTS="$CATALINA_OPTS -javaagent:\"agent-jar-with-dependencies.jar\""`
 - Restart TomCat

### Tools and Technologies
 - [Java 11](https://www.java.com/)
 - [Docker](https://www.docker.com/)
 - [Maven](https://maven.apache.org/)
 - [TomCat](http://tomcat.apache.org/)
 - [ASM](https://asm.ow2.io/)